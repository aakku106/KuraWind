const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DiO1dPfR.js","assets/iconBase-CxOQWq9U.js","assets/index-CF7Ri3zE.js","assets/index-mgtUc3L5.css","assets/index-Cwpq0ATZ.js","assets/Settings-DTllIgjG.js","assets/Settings-eRr3R7Tq.css"])))=>i.map(i=>d[i]);
import{r as t,j as a,_ as d}from"./index-CF7Ri3zE.js";import{c as x}from"./messages-CqlhHQyZ.js";const p=n=>{const i=[{id:1,friendName:"Aarya Sharma",lastMessage:"Hey! How are you doing?",timestamp:"2m ago",unreadCount:2,avatar:"A",online:!0},{id:2,friendName:"Bikram Thapa",lastMessage:"Thanks for the help yesterday!",timestamp:"1h ago",unreadCount:0,avatar:"B",online:!1},{id:3,friendName:"Chandra Karki",lastMessage:"Are we still meeting at 5pm?",timestamp:"3h ago",unreadCount:1,avatar:"C",online:!0},{id:4,friendName:"Deepak Rai",lastMessage:"Check out this cool video!",timestamp:"1d ago",unreadCount:0,avatar:"D",online:!1},{id:5,friendName:"Esha Gurung",lastMessage:"Happy birthday! ðŸŽ‰",timestamp:"2d ago",unreadCount:0,avatar:"E",online:!0}];return n?.userName==="aakku"?[{id:2,friendName:"CCN",lastMessage:"Real-time chat enabled! âš¡",timestamp:"now",unreadCount:0,avatar:"C",online:!0,isRealTime:!0},...i]:n?.userName==="ccn"?[{id:1,friendName:"Aakku",lastMessage:"Real-time chat enabled! âš¡",timestamp:"now",unreadCount:0,avatar:"A",online:!0,isRealTime:!0},...i]:i},m=[{id:1,name:"Aarya Sharma",online:!0,avatar:"A"},{id:2,name:"Bikram Thapa",online:!1,avatar:"B"},{id:3,name:"Chandra Karki",online:!0,avatar:"C"},{id:4,name:"Deepak Rai",online:!1,avatar:"D"},{id:5,name:"Esha Gurung",online:!0,avatar:"E"},{id:6,name:"Fursang Lama",online:!1,avatar:"F"},{id:7,name:"Ganga Poudel",online:!0,avatar:"G"}],j=t.lazy(()=>d(()=>import("./index-DiO1dPfR.js"),__vite__mapDeps([0,1,2,3])).then(n=>({default:n.AiFillHome}))),N=t.lazy(()=>d(()=>import("./index-Cwpq0ATZ.js"),__vite__mapDeps([4,1,2,3])).then(n=>({default:n.GiThreeFriends}))),g=t.lazy(()=>d(()=>import("./index-DiO1dPfR.js"),__vite__mapDeps([0,1,2,3])).then(n=>({default:n.AiFillSetting}))),f=()=>a.jsx("div",{style:{width:"24px",height:"24px",background:"rgba(255, 120, 73, 0.3)",borderRadius:"4px",animation:"pulse 1.5s ease-in-out infinite"}});function C({activeTab:n,setActiveTab:i,chats:r,friends:l}){const o=[{id:"chats",icon:j,label:"Chats",badge:r?r.filter(s=>s.unreadCount>0).length:0},{id:"friends",icon:N,label:"Friends",badge:l?l.filter(s=>s.online).length:0},{id:"settings",icon:g,label:"Settings"}];return a.jsx("section",{className:"nav-container",children:a.jsx("div",{className:"nav-dock",children:o.map(s=>{const c=s.icon;return a.jsxs("div",{className:`nav-item ${n===s.id?"active":""}`,onClick:()=>i(s.id),children:[a.jsxs("div",{className:"nav-icon-wrapper",children:[a.jsx(t.Suspense,{fallback:a.jsx(f,{}),children:a.jsx(c,{size:24})}),s.badge>0&&a.jsx("span",{className:"nav-badge",children:s.badge})]}),a.jsx("span",{className:"nav-label",children:s.label})]},s.id)})})})}const y=t.lazy(()=>d(()=>import("./Settings-DTllIgjG.js"),__vite__mapDeps([5,2,3,0,1,6]))),b=()=>a.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--text-primary)"},children:[a.jsxs("div",{className:"loading-dots",children:[a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:"â€¢"})]}),a.jsx("p",{style:{marginTop:"1rem",opacity:"0.7"},children:"Loading Settings..."})]});function A({user:n,onLogout:i,onOpenChat:r}){const[l,o]=t.useState("chats"),s=p(n),c=e=>{r(e)},h=e=>{const v={id:e.id,friendName:e.name,avatar:e.avatar,online:e.online,lastMessage:"",timestamp:"now",unreadCount:0};r(v)},u=()=>{window.confirm("Are you sure you want to clear all chat history? This action cannot be undone.")&&(x()?(alert("Chat history cleared successfully!"),window.location.reload()):alert("Failed to clear chat history. Please try again."))};return a.jsxs("div",{className:"home-container",children:[a.jsxs("div",{className:"home-header",children:[a.jsxs("div",{className:"header-left",children:[a.jsx("h1",{className:"app-title",children:"KuraWind"}),a.jsxs("p",{className:"welcome-text",children:["Welcome, ",n.userName,"!"]})]}),a.jsxs("div",{className:"header-actions",children:[a.jsx("button",{onClick:u,className:"clear-history-btn",title:"Clear Chat History",children:"ðŸ—‘ï¸"}),a.jsx("button",{onClick:i,className:"logout-btn",children:"Logout"})]})]}),a.jsxs("div",{className:"home-content",children:[l==="chats"?a.jsx("div",{className:"chats-list",children:s.map(e=>a.jsxs("div",{className:`chat-item ${e.isRealTime?"real-time-chat":""}`,onClick:()=>c(e),children:[a.jsxs("div",{className:"avatar-container",children:[a.jsx("div",{className:"avatar",children:e.avatar}),e.online&&a.jsx("div",{className:"online-indicator"}),e.isRealTime&&a.jsx("div",{className:"realtime-indicator",children:"âš¡"})]}),a.jsxs("div",{className:"chat-content",children:[a.jsxs("div",{className:"chat-header",children:[a.jsx("span",{className:"friend-name",children:e.friendName}),a.jsx("span",{className:"timestamp",children:e.timestamp})]}),a.jsx("div",{className:"last-message",children:e.lastMessage})]}),e.unreadCount>0&&a.jsx("div",{className:"unread-badge",children:e.unreadCount})]},e.id))}):l==="friends"?a.jsx("div",{className:"friends-list",children:m.map(e=>a.jsxs("div",{className:"friend-item",onClick:()=>h(e),children:[a.jsxs("div",{className:"avatar-container",children:[a.jsx("div",{className:"avatar",children:e.avatar}),e.online&&a.jsx("div",{className:"online-indicator"})]}),a.jsxs("div",{className:"friend-info",children:[a.jsx("span",{className:"friend-name",children:e.name}),a.jsx("span",{className:`status ${e.online?"online":"offline"}`,children:e.online?"Online":"Offline"})]})]},e.id))}):a.jsx("div",{className:"settings-view",children:a.jsx(t.Suspense,{fallback:a.jsx(b,{}),children:a.jsx(y,{})})}),a.jsx(C,{activeTab:l,setActiveTab:o,chats:s,friends:m})]})]})}export{A as default};
